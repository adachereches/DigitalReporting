
<?xml version="1.0" encoding="UTF-8"?>
<DataLoaderConfiguration>
        <WebService>
	        <Name>Participant</Name>
	        <Url><![CDATA[https://testapi.events.cancerresearchuk.org/app_integration.php/api/v2/reporting/participants.json]]></Url>
			<Iterator>offset</Iterator>
				<Parameter>
                    <Name>updatedFrom</Name>                    
                    <Value>2016-05-01</Value>
                    <Format>YYYY-MM-DD</Format>
                </Parameter>
                <Parameter>
                    <Name>updatedTo</Name>                    
                    <Value>2016-05-05</Value>
                    <Format>YYYY-MM-DD</Format>
                </Parameter>
                <Parameter>
                    <Name>limit</Name>                    
                    <Value>50</Value>
                    <Format></Format>
                </Parameter>
            <Authetication>
                <TokenUrl><![CDATA[https://testapi.events.cancerresearchuk.org/app_integration.php/oauth/v2/token]]></TokenUrl>             
                    <Parameter>
                        <Name>client_id</Name>                    
                        <Value>4_21pbdbp9cow00c0wkwckkksc8g0k0c8ock4scssscwwwc008o0</Value>
                    </Parameter>
                    <Parameter>
                        <Name>client_secret</Name>                    
                        <Value>4f49jbm7kckk8s0ooc0k4c0gg4wossgks8g0cw0wsk44oscc44</Value>
                    </Parameter>
					<Parameter>
                        <Name>grant_type</Name>                    
                        <Value>client_credentials</Value>
                    </Parameter>                
            </Authetication>
        </WebService>
        <Table>
		    <Source>results</Source>
		    <Destination>Participant</Destination>
			<BatchIdColumn>BatchId</BatchIdColumn>
		    <ColumnSet>
			    <Column>
				    <Source>uniqueId</Source>
				    <Destination>Id</Destination>
			    </Column>	
				<Column>
				    <Source>externalReference</Source>
				    <Destination>ExternalReference</Destination>
			    </Column>	
				<Column>
				    <Source>forename</Source>
				    <Destination>Forename</Destination>
			    </Column>	
				<Column>
				    <Source>surname</Source>
				    <Destination>Surname</Destination>
			    </Column>	
				<Column>
				    <Source>title</Source>
				    <Destination>Title</Destination>
			    </Column>	
				<Column>
				    <Source>gender</Source>
				    <Destination>Gender</Destination>
			    </Column>	
				<Column>
				    <Source>dob</Source>
				    <Destination>Dob</Destination>
					<DataType>DateTime</DataType>
			    </Column>	
				<Column>
				    <Source>primaryDataSourceCode</Source>
				    <Destination>PrimaryDataSourceCode</Destination>
			    </Column>	
				<Column>
				    <Source>emailAddress</Source>
				    <Destination>EmailAddress</Destination>
			    </Column>	
				<Column>
				    <Source>telephoneNumberLandline</Source>
				    <Destination>TelephoneNumberLandline</Destination>
			    </Column>	
				<Column>
				    <Source>telephoneNumberMobile</Source>
				    <Destination>TelephoneNumberMobile</Destination>
			    </Column>	
				<Column>
				    <Source>created</Source>
				    <Destination>Created</Destination>
					<DataType>DateTime</DataType>
			    </Column>	
				<Column>
				    <Source>updated</Source>
				    <Destination>Updated</Destination>
			    </Column>	
		    </ColumnSet>
		    <Table>
			    <Source>address</Source>
			    <Destination>Address</Destination>
          <BatchIdColumn>BatchId</BatchIdColumn>
          <ForeignKey>
                  <Field>uniqueId</Field>
                  <Column>ParticipantId</Column>
          </ForeignKey>
			    <ColumnSet>
				    <Column>
					    <Source>uniqueId</Source>
					    <Destination>Id</Destination>
				    </Column>	
				    <Column>
					    <Source>validated</Source>
					    <Destination>Validated</Destination>
				    </Column>	
				    <Column>
					    <Source>line1</Source>
					    <Destination>Line1</Destination>                        
				    </Column>	
					<Column>
					    <Source>line2</Source>
					    <Destination>Line2</Destination>                        
				    </Column>	
					<Column>
					    <Source>line3</Source>
					    <Destination>Line3</Destination>                        
				    </Column>	
					<Column>
					    <Source>city</Source>
					    <Destination>City</Destination>                        
				    </Column>
					<Column>
					    <Source>postalCode</Source>
					    <Destination>PostalCode</Destination>                        
				    </Column>					
					<Column>
					    <Source>country</Source>
					    <Destination>Country</Destination>                        
				    </Column>					
					<Column>
					    <Source>created</Source>
					    <Destination>Created</Destination>                        
				    </Column>					
					<Column>
					    <Source>updated</Source>
					    <Destination>Updated</Destination>                        
				    </Column>					
					<Column>
					    <Source>ParticipantId</Source>
					    <Destination>ParticipantId</Destination>                        
				    </Column>					
			    </ColumnSet>
		    </Table>			
		    <Table>
			    <Source>suppressions</Source>
			    <Destination>Suppression</Destination>
          <BatchIdColumn>BatchId</BatchIdColumn>
                 <ForeignKey>
                        <Field>uniqueId</Field>
                        <Column>ParticipantId</Column>
                </ForeignKey>
			    <ColumnSet>	
                    <Column>
					    <Source>Value</Source>
					    <Destination>Name</Destination>
				   </Column>								  
				   <Column>
					    <Source>ParticipantId</Source>
					    <Destination>ParticipantId</Destination>                        
				    </Column>	
			    </ColumnSet>			   
		    </Table>					
    </Table>	
</DataLoaderConfiguration>
